# 1. 编辑环境变量
```
编辑.bashrc或者.profile，加入以下内容： 
export GOROOT=$HOME/go 
export GOBIN=$GOROOT/bin 
export GOARCH=amd64 
export GOOS=linux 
```
Run command:
```sh
. /etc/profile
```

# 2. 安装c语言工具
```
yum -y install bison ed gawk gcc glibc
```

# 3. 
```
yum -y install mercurial
```

# 4. 源码安装
## 4.1 通过git安装
### 4.1.1 先安装go1.4
```
cd ~/repository
git clone https://github.com/golang/go.git
cd go
git checkout release-branch.go1.4
cd src
export GO14TESTS=1
export CGO_ENABLED=0
./all.bash
mkdir $HOME/go1.4
cp -a /root/repository/go $HOME/go1.4
export GOROOT_BOOTSTRAP=$HOME/go1.4
```

####  Error 1
![ERROR1](https://github.com/qiyafafa/Work-Note/blob/master/images/go14_install.png)
```
Building Go cmd/dist using /root/go1.4.
ERROR: Cannot find /root/go1.4/bin/go.
Set $GOROOT_BOOTSTRAP to a working Go tree >= Go 1.4.
```
Solution: install go1.4 first
- https://blog.csdn.net/zhang197093/article/details/78468918

#### Error 2
```
To force tests, set GO14TESTS=1 and re-run, but expect some failures.
```

Solution: export GO14TESTS=1

#### Error 3: go build net: /root/repository/go/pkg/tool/linux_amd64/6g: signal: killed
Because my virtual instance only had 544MB memory. Increasing the memory should fix the Error .

### 4.2 Install latest stanble go
Refer to:
- https://golang.org/doc/install/source

```
cd ~/resource/go
git checkout master
cd src
GOOS=linux GOARCH=amd64 ./bootstrap.bash
```
#### Error 1
![ERROR](https://github.com/qiyafafa/Work-Note/blob/master/images/gomaster_error1.png)
```
/root/repository/go/src/runtime/zruntime_defs_linux_amd64.go:19:7: too many errors

go tool dist: open /tmp/go-tool-dist-082262969/runtime/_go_.a: no such file or directory
```

